# Network 예상 질문

### 네트워크란?

<details>

두 개 이상의 노드(기기) 서로의 자원을 주고받을 수 있는 데이터 통신 환경을 네트워크라고 합니다.

</details>

### 서비스 영역에 따른 네트워크 종류는 어떤 게 있나요?

<details>

서비스 영역에 따라 LAN, MAN, WAN 세 종류가 있습니다.
LAN은 가장 좁은 서비스 영역으로 한 건물 또는 사무실 내의 호스트들이 연결된 소규모 네트워크를 말합니다.
MAN은 도시 범위의 네트워크를 말하고 WAN은 국가 단위의 대규모 네트워크를 말합니다.

</details>

### LAN에서 통신하는 방식 종류는 무엇이 있나요?

<details>

유니캐스트, 멀티캐스트, 브로드캐스트가 있습니다.
유니캐스트는 원하는 대상과 1:1로 통신하는 것을 말하고 멀티캐스트는 원하는 대상으로 1:N으로 통신을 말합니다.
브로드캐스트 1:all로 로컬 랜 상에 있는 모든 엔드포인트에 전달하는 통신을 말합니다.

</details>

### 네트워크 전송 방향에 따른 통신방식에 대해서 설명해주세요

<details>

단방향, 양방향이 있고 양방향에는 반이중 전이중 방식으로 나뉩니다.
단방향은 말 그대로 한 쪽에서 다른 한쪽으로만 통신을 할 수 있는 것을 말합니다.
양방향 통신은 양쪽 다 통신이 가능한 것을 말합니다.
여기서 반이중은 어느 한 쪽이 수신 중이면 반대쪽은 송신만 해야 하는 통신을 말합니다.
전이중은 양쪽이 송신과 수신을 동시에 할 수 있는 통신을 말합니다.

</details>

### 대역폭에 대해서 설명해주세요

<details>

네트워크 상에서 데이터를 전송하는 통로를 말합니다. 대역폭이 크다면 한꺼번에 전송할 수 있는 네트워크 양이 크다는 소리이고 작다면 그 반대로 적다는 소리입니다.

</details>

### 트래픽에 대해서 설명해주세요

<details>

클라이언트와 서버 사이에서 주고받은 데이터양을 말합니다. 트래픽이 많다면 시간당 보내는 데이터의 양이 많다는 소리이고 적다면 양이 적다는 소리입니다.

</details>

### ISP에 대해서 설명해주세요

<details>

인터넷 서비스 공급자로 인터넷 서비스를 제공하는 업체들을 의미합니다. 다양한 회선 상품을 제공하며 우리는 그 회선 상품에 가입해서 네트워크에 접속해 데이터를 주고받을 수 있습니다.

</details>

### VPN에 대해서 설명해주세요

<details>

가상 사설망으로 부르고 어떤 회사 또는 개인이 다른 외부 사람에게 정보를 드러내지 않고 통신할 목적으로 사용합니다.

</details>

### IP에 대해서 설명해주세요

<details>

각 장치에 주어지는 번호로 네트워크상에서 서로가 식별하고 통신할 수 있게 하는 식별번호입니다.

</details>

### OSI 7계층에 대해서 설명해주세요

<details>

OSI 7계층은 네트워크 통신의 모든 과정 및 구성 요소를 계층으로 나눠 디자인한 모델입니다.
총 7계층이고 물리, 데이터링크, 네트워크, 전송, 세션, 표현, 애플리케이션 계층으로 나뉘어 있습니다.

</details>

### OSI 7계층으로 나눈 이유에 대해서 설명해주세요

<details>

네트워크가 일어나는 과정을 나눔으로써 각각의 역할에 대해서 뚜렷해지고 에러 발생 지역에 대해서 빠르게 찾아낼 수 있기 때문에 유지보수를 위해 7계층으로 나누었습니다.

</details>

### OSI 7계층에 대해서 설명해주세요

<details>

물리계층은 전기적, 기계적 특성을 이용하여 통신 케이블로 전기적 신호를 전송합니다. 단지 데이터 전송을 할 뿐이라 알고리즘이나 오류제어는 하지 않습니다. 단위는 bit이며 전송 장비로는 리피터, 허브가 있습니다.
데이터 링크 계층은 물리적인 연결을 통하여 인접한 두 장치 간에 신뢰성 있는 정보 전달을 담당합니다. 흐름 제어와 오류 제어를 하며 단위는 프레임이고 장비로는 스위치, 브리지가 있습니다.
네트워크 계층은 중계 노드를 통해서 이동할 경우 어떻게 중계를 할 것인지 지정합니다. 목적지까지의 경로 설정을 하며 단위는 패킷이고 장비로는 라우터, L3 스위치가 있습니다.
전송 계층은 종단 간 신뢰성 있고 정확한 데이터 전송을 담당합니다. 종단 간의 에러 복구와 흐름 제어를 담당하고 단위는 세그먼트이고 장비로는 L4 스위치가 있습니다.
세션 계층은 통신 장치 간 상호 작용 및 동기화를 제공합니다. 연결 세션에서 데이터 교환과 에러 발생 시 복구를 담당합니다.
표현 계층은 데이터 표현에 차이가 있는 응용 처리에서 제어 구조를 제공합니다. 전송하는 데이터의 인코딩, 디코딩, 암호화, 코드 변환 등을 수행합니다.
애플리케이션 계층은 사용자와 가장 밀접한 계층으로 인터페이스 역할을 합니다.

</details>

### 리피터에 대해서 설명해주세요

<details>

긴 케이블일수록 가는 도중에 신호가 약해지기 때문에 신호를 멀리 보내기 위해서 신호를 증폭시키기 위한 증폭 장치입니다.

</details>

### 허브에 대해서 설명해주세요

<details>

랜을 구성할 때 가까운 거리에 있는 장비들을 케이블로 연결하여 네트워크를 구성하는 장치입니다. 또한 리피터의 역할도 합니다.

</details>

### 스위치, 브리지에 대해서 설명해주세요

<details>

네트워크 입구 역할을 하며 내부에 맥 어드레스 테이블을 가지고 있고 맞는 맥 어드레스에 패킷을 보내는 기능을 합니다.
만약 맥 어드레스 테이블에 어드레스 정보가 없다면 모든 곳에 정보를 전달하는 플러딩(Flooding)이 발생합니다.

</details>

### 스위치, 브리지 차이점에 대해서 설명해주세요

<details>

스위치의 처리 방식은 하드웨어, 브리지는 소프트웨어이기 때문에 처리 속도가 스위치가 훨씬 빠릅니다.
스위치는 제공하는 포트 수가 브리지에 비해 훨씬 많고 브리지는 포트별로 속도가 동일하게 제공하지만, 스위치는 서로 다른 속도로 제공할 수 있습니다.
스위치는 cut-through, store-and-forward 방식을 둘 다 사용하지만 브리지는 store-and-forward 방식만 이용합니다.

</details>

### store-and-forward, cut-through에 대해서 설명해주세요

<details>

store-and-forward는 들어오는 프레임을 모두 받아들인 다음에 처리하는 방식입니다. 데이터가 제대로 들어왔는지 오류는 없는지 출발과 목적지는 어딘지 파악한 후에 보내게 됩니다. 만약 에러가 발생하면 프레임을 버리고 재전송 요청을 보내기 때문에 에러 복구 능력이 뛰어납니다.
cut-through는 들어오는 프레임의 목적지 주소만 보고 바로 전송을 처리하는 방식입니다. 그러므로 store-and-forward와는 다르게 앞 48bit만 보게 되고 처리 방식이 훨씬 빠르다는 게 장점이지만 에러가 발생했을 때 찾기 어렵기 때문에 에러 복구 능력은 떨어집니다.

</details>

### 라우터에 대해서 설명해주세요

<details>

서로 다른 네트워크를 연결해주는 장치로써 현재 네트워크에서 다른 네트워크로 패킷 전송 기능을 제공합니다.
라우팅 테이블에 경로 정보를 가지고 있고 가장 효율적인 경로를 설정합니다.

</details>

### 스위치와 라우터의 차이점을 말해주세요

<details>

스위치는 같은 네트워크 내에서 데이터를 전송하고 라우터는 다른 네트워크로 데이터를 전송합니다.
스위치는 데이터를 보낼 때 맥 어드레스 테이블을 이용하고 라우터는 라우팅 테이블을 이용합니다.
전송할 때 참고하는 주소는 스위치는 맥, 라우터는 IP 주소입니다.
스위치는 테이블에 필요한 정보가 없을 때 플러딩이 발생하지만, 라우터는 데이터를 파기합니다.

</details>

### TCP/IP 계층에 대해서 설명해주세요

<details>

네트워크, 인터넷, 전송, 애플리케이션 총 4계층으로 이루어져 있는 네트워크 통신 과정 디자인 모델입니다.
네트워크 계층은 물리적으로 데이터가 네트워크를 통해 어떻게 전송되는지, 에러검출를 담당하며 데이터 단위는 프레임이고 전송 주소는 mac입니다.
인터넷 계층은 네트워크상 최종 목적지까지 정확하게 연결되도록 연결성을 보장하며 데이터 단위는 패킷이고 전송 주소는 ip입니다.
전송 계층은 통신 노드 간의 연결 제어 및 자료 송수신을 담당하며 단위는 세그먼트이고 전송 주소는 포트입니다.
응용 계층은 사용자와 가장 인접한 계층이고 사용자가 애플리케이션과 소통할 수 있게 해줍니다. 단위는 데이터입니다.

</details>

### OSI 7계층과 TCP/IP 계층의 차이점을 설명해주세요

<details>

TCP/IP는 계속해서 표준화가 되어 자주 사용되어 신뢰성이 높은 반면 OSI는 표준은 되기는 하지만 실제로 구현된 예가 없어 신뢰성이 떨어진다.
그래서 실제 구축은 TCP/IP로 하고 장비나 통신을 어떻게 표준을 잡을지 길잡이는 OSI를 사용한다.

</details>

### TCP, UDP 차이점에 대해서 설명해주세요

<details>

TCP는 신뢰성 프로토콜이고 UDP는 비신뢰성 프로토콜입니다. TCP는 데이터를 주고받기 전에 3-way-handshake 과정을 거쳐 세션을 미리 수립하고 데이터를 전송하고 흐름제어, 오류제어, 혼잡제어를 제공해 데이터 전송에 신뢰성이 높습니다.  하지만 UDP는 그러한 과정이 없어 데이터의 신뢰성이 떨어지지만, 속도가 빠르다는 장점이 있습니다. 그렇기에 TCP는 데이터 전송에 무결성을 중요시한다면 사용하고 UDP는 실시간 스트리밍 같은 곳에 사용이 됩니다.

</details>

### 3-way-handshake에 대해서 설명해주세요

<details>

3-way-handshake 는 TCP 프로토콜을 사용해서 데이터를 전송할 때 정확한 전송을 보장하기 위해 세션 수립으로 진행되는 절차입니다.
클라이언트에서 서버로 SYN 패킷을 보내고 서버에서 받은 SYN 패킷과 ACK 패킷을 클라이언트에게 보냅니다. 이후 클라이언트는 ACK 패킷을 서버에게 보내 세션 수립을 완료합니다.

</details>

### 4-way-handshake에 대해서 설명해주세요

<details>

TCP 프로토콜을 사용할 때 세션을 수립하고 데이터 전송이 끝나고 세션을 종료할 때 진행되는 절차입니다.
클라이언트가 서버에 FIN 패킷을 보내게 되면 서버는 확인했다는 ACK 패킷을 보내고 보낼 데이터를 다 전송한 뒤에 FIN 패킷을 보내 종료 준비를 마쳤다는 신호를 보냅니다. 클라이언트는 FIN을 받고 서버에 ACK 패킷을 보내 세션을 종료합니다.

</details>

### 만약 FIN을 전송하기 전에 전송한 패킷이 라우팅 지연이나 패킷 손실로 인한 재전송으로 인해 FIN보다 패킷이 늦게 도착하는 상황이라면 어떻게 되나요?

<details>

클라이언트는 세션이 종료된 후에 오는 패킷은 드랍하고 데이터가 유실되게 된다.
이런 현상을 방지하기 위해 FIN을 수신하더라도 일정 시간 세션을 남겨놓고 잉여 패킷을 기다리는 과정을 거치게 됩니다.

</details>

### 3-way-handshake는 2-way-handshake로도 충분하지 않나요?

<details>

TCP 통신은 양방향성이기 때문에 A에서 B로 데이터를 보낸 것을 증명했다면 B에서 A로 데이터를 보내는 것도 증명하기 위해서 총 세 번에 걸친 단계로 필요로한다.

</details>

### 3-way-handshake는 4-way-handshake와 한 단계 차이 나는 이유는?

<details>

세션 수립과 다르게 종료는 서버 측에서 종료 신호를 받았어도 아직 보내야 될 데이터가 남았을 수도 있기 때문에 확인 메시지를 보내고 나서 종료 준비가 끝났다는 FIN 신호를 보내기 때문에 한 단계 차이가 납니다.

</details>

### Sequence Number인 ISN을 0부터 시작하지 않고 난수를 생성하는 이유는?

<details>

TCP 연결의 포트 번호는 유효하므로 시간이 지남에 따라 재사용이 된다. 만약 두 통신 간에 사용되었던 한 쌍의 포트를 사용해 패킷이 지연되어 수신했다고 생각할 수 있기 때문입니다.

</details>

### HTTP 프로토콜에 대해서 설명해주세요

<details>

HTTP 프로토콜은 인터넷상에서 서로 다른 기기가 데이터를 교환할 수 있도록 규칙을 정해놓은 것을 말합니다.
HTTP 프로토콜 특징은 무상태, 비연결성 특징을 가집니다.
무상태는 클라이언트의 요청 그리고 그에 따른 서버의 응답이 끝나게 되면 서로 간의 상태 정보를 가지지 않는 것을 말합니다.
비연결성은 클라이언트의 요청 그리고 그에 따른 서버의 응답으로 하나의 사이클이 끝나게 되면 계속 연결하는 것이 아니라 연결을 해제하는 것을 말합니다.

</details>

### HTTPS 프로토콜에 대해서 설명해주세요

<details>

HTTP 프로토콜에 암호화를 추가한 것입니다.

</details>

### HTTP, HTTPS 차이점을 설명해주세요

<details>

HTTP는 평문으로 통신하기 때문에 데이터를 누구나 볼 수 있고 위장 또한 가능합니다.
이를 해결하기 위해서 HTTPS는 보안 계층(SSL, TLS)을 추가하여 평문을 암호화하여 보내고 인증서를 통해 상대방이 내가 신뢰할 수 있는 상대임을 보장할 수 있습니다.

</details>

### HTTP 동작 과정에 대해서 설명해주세요

<details>

사용자가 URL을 적고 검색을 하게 된다면 도메인 네임을 가지고 논리적 주소 IP를 찾기 위해 로컬 DNS, root DNS 순으로 찾게 됩니다. 만약 도메인 네임 대신 IP를 썼다면 이미 알기에 이 과정을 필요 없습니다. DNS 서버에게 IP 주소를 얻었으니 라우팅이라는 장비의 도움을 받아 목적지까지 이동하게 됩니다. 도착한 후 통신을 위해 논리적인 주소 IP를 물리주소 MAC으로 변환해야 한다. 이를 위해 해당 네트워크 내에서 브로드캐스팅을 하고 해당 IP 주소를 가진 노드는 자신의 MAC 주소를 응답하게 됩니다. 이후 그 대상과 통신을 위해 TCP 소켓 연결을 시도하고 3-way-handshake 과정을 통해 세션을 수립합니다. 연결이 완료되었으니 HTTP 프로토콜을 이용해 요청을 주고받고 요청이 끝난 후에 세션을 닫고 종료하게 됩니다.

</details>

### HTTPS 동작 과정에 대해서 설명해주세요 🤔

<details>

사용자가 웹브라우저를 통해 사이트에 클라이언트가 사용할 수 있는 암호화 기법과 랜덤 수를 클라이언트에게 보내며 요청을 합니다. 그러면 서버는 CA에서 받은 인증서, 서버가 선택한 암호화 기법과 서버가 생성한 난수를 클라이언트에게 보내게 됩니다.
웹 브라우저는 브라우저가 가지고 있는 인증기관 리스트 중에 있는지 확인한 후 있다면 인증기관의 공개키를 이용해 서버에서 받은 인증서를 복호화하고 공개키와 인증서를 얻습니다. 그러면 클라이언트에서 클라이언트에서 만든 난수랑 서버에서 만든 난수를 조합하여 대칭키를 만들고 대칭키를 복호화해서 얻은 공개키로 암호화한 뒤에 서버로 전송하게 되고 서버는 이를 받아 자신의 개인키로 복호화하여 대칭키를 얻어서 클라이언트, 서버는 같은 대칭키를 가지고 데이터를 암호화해서 주고받게 됩니다.
이러한 하이브리드 과정을 통해서 대칭키의 키배송 문제, 비대칭키의 속도 문제를 동시에 해결할 수 있습니다. CA의 공개키로 복호화되는 것을 봤을 때 보낸 사람이 신뢰할 수 있는 상대임을 보장할 수 있습니다. 

</details>

### HTTP 메시지 구조에 대해서 설명해주세요

<details>

요청 메시지는 Start Line, 헤더, 바디의 구조로 되어있습니다.
Start Line에는 요청 URL, 메소드, HTTP 버전 정보가 들어있고 헤더에는 클라이언트 정보, 바디 사이즈, 메시지 타입, 커넥션 정보가 들어있고 바디에는 전송할 데이터가 담겨있습니다.
응답 메시지는 Status Line, 헤더, 바디의 구조로 되어있습니다.
Status Line에는 HTTP 버전과 응답 코드, 메시지가 들어있고 헤더는 서버 정보, 바디 사이즈, 메시지 타입, 커넥션 정보 등 요청 메시지와 유사하게 담겨있고 응답 바디에는 응답에 필요한 데이터가 담겨져있습니다.

</details>

### HTTP 헤더에는 어떤 정보가 담겨있나요?

<details>

타겟 url이 담겨 있는 Host, 클라이언트 정보가 담겨있는 User-agent 응답 메시지 경우 Server, 클라이언트가 받을 수 있는 데이터 타입 Accept, 요청이 끝난 후에 연결을 유지할 건지에 대한 정보 Connection, 바디에 대한 정보 Content-Type, Content-Length가 있습니다.

</details>

### ARP(Address Resolution Protocol)에 대해서 설명해주세요

<details>

주소 결정 프로토콜로 해당 IP 주소를 그에 맞는 물리적인 주소 MAC 주소로 가져오는 프로토콜입니다.

</details>